<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KOR Generadores en L√≠nea - Lista de Precios DETALLADA - Noviembre 2025</title>
    <link rel="stylesheet" href="styles.css?v=3.0">
    <link rel="stylesheet" href="styles-v2-fix.css?v=2.0">
    <link rel="stylesheet" href="styles-modal-compact.css?v=1.0">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
</head>
<body>
    <!-- Pantalla de Login -->
    <div id="loginScreen" class="login-screen">
        <canvas id="bg360Login"></canvas>
        <div class="login-container">
            <div class="login-box">
                <img src="kor-logo.png" alt="KOR Logo" class="login-logo" onerror="this.style.display='none'">
                <h1>KOR GENERADORES</h1>
                <h2>Acceso al Sistema</h2>
                <form id="loginForm" onsubmit="return false;">
                    <div class="input-group">
                        <label for="username">Usuario</label>
                        <input type="text" id="username" required autocomplete="username">
                    </div>
                    <div class="input-group">
                        <label for="password">Contrase√±a</label>
                        <input type="password" id="password" required autocomplete="current-password">
                    </div>
                    <div id="loginError" class="login-error"></div>
                    <button type="submit" class="login-button">INGRESAR</button>
                </form>
                <p class="login-footer">www.generadores.ar | Tel: +54 11 3956-3099</p>
            </div>
        </div>
    </div>

    <!-- Contenido Principal (oculto hasta autenticaci√≥n) -->
    <div id="mainContent" class="main-content" style="display: none;">
        <!-- Fondo 360 Canvas -->
        <canvas id="bg360"></canvas>

    <!-- Modal de Detalles de Producto -->
    <div id="productModal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <div class="modal-body">
                <div class="modal-left">
                    <!-- Carrusel de Im√°genes -->
                    <div class="image-carousel">
                        <div class="carousel-main">
                            <button class="carousel-btn carousel-prev" id="carouselPrev">&lsaquo;</button>
                            <img id="modalProductImg" src="" alt="Producto" class="product-detail-img">
                            <button class="carousel-btn carousel-next" id="carouselNext">&rsaquo;</button>
                        </div>
                        <div class="carousel-thumbnails" id="carouselThumbnails">
                            <!-- Las miniaturas se generar√°n din√°micamente con JavaScript -->
                        </div>

                        <!-- Botones de edici√≥n (solo modo interno) -->
                        <div class="image-quick-actions internal-only">
                            <button class="btn-edit-images" id="btnEditImages">
                                ‚úèÔ∏è Editar Im√°genes
                            </button>
                            <button class="btn-edit-files" id="btnEditFiles">
                                üìé Editar Archivos
                            </button>
                        </div>
                    </div>
                    <h2 id="modalProductName" class="modal-product-title"></h2>
                    <p id="modalProductSpecs" class="modal-product-specs"></p>
                </div>
                <div class="modal-right">
                    <!-- Bot√≥n para ver PDF del producto -->
                    <div class="product-actions">
                        <button class="btn-view-pdf" id="btnViewPDF">
                            üìÑ Ver Ficha T√©cnica PDF
                        </button>
                    </div>
                    <!-- PRECIOS P√öBLICOS -->
                    <div class="pricing-section">
                        <h3>PRECIOS DE VENTA</h3>

                        <div class="price-card highlight-public">
                            <h4>PRECIO VENTA AL P√öBLICO (CON IVA)</h4>
                            <p class="sale-price-public" id="modalSalePricePublic"></p>
                            <small>Precio final para el cliente</small>
                        </div>

                        <div class="price-card">
                            <h4>PRECIO VENTA AL P√öBLICO (SIN IVA)</h4>
                            <p class="list-price" id="modalListPrice"></p>
                            <small>Precio base sin impuestos</small>
                        </div>

                        <div class="price-card">
                            <h4>IVA INCLUIDO</h4>
                            <p class="iva-amount" id="modalIVAAmount"></p>
                            <small id="modalIVAInfo"></small>
                        </div>
                    </div>

                    <!-- COSTOS - SOLO MODO INTERNO -->
                    <div class="pricing-section internal-only">
                        <h3>üîí INFORMACI√ìN DE COSTOS (USO INTERNO)</h3>

                        <div class="price-card highlight">
                            <h4>PRECIO DE COMPRA (CONTADO)</h4>
                            <p class="purchase-price" id="modalPurchasePrice"></p>
                            <small id="modalDiscountInfo"></small>
                        </div>

                        <div class="price-card profit">
                            <h4>MARGEN DE GANANCIA</h4>
                            <p class="profit-margin" id="modalProfitMargin"></p>
                            <small id="modalProfitPercent"></small>
                        </div>

                        <div class="payment-options">
                            <h4>OPCIONES DE PAGO</h4>
                            <div class="payment-option">
                                <strong>üíµ CONTADO:</strong>
                                <p id="modalCashPrice"></p>
                            </div>
                            <div class="payment-option">
                                <strong>üí≥ FINANCIADO:</strong>
                                <p id="modalFinancedPrice"></p>
                            </div>
                        </div>
                    </div>

                    <div class="specs-section">
                        <h3>ESPECIFICACIONES T√âCNICAS</h3>
                        <div class="spec-grid">
                            <div class="spec-item">
                                <span class="spec-label">‚õΩ Combustible:</span>
                                <span id="modalFuelType" class="spec-value"></span>
                            </div>
                            <div class="spec-item">
                                <span class="spec-label">üîä Insonorizado:</span>
                                <span id="modalSoundproof" class="spec-value"></span>
                            </div>
                            <div class="spec-item">
                                <span class="spec-label">üè† Cabina:</span>
                                <span id="modalCabin" class="spec-value"></span>
                            </div>
                            <div class="spec-item">
                                <span class="spec-label">üéõÔ∏è Tablero/Transfer:</span>
                                <span id="modalControlPanel" class="spec-value"></span>
                            </div>
                            <div class="spec-item internal-only">
                                <span class="spec-label">‚ö° Tipo de IVA:</span>
                                <span id="modalIVAType" class="spec-value"></span>
                            </div>
                            <div class="spec-item internal-only">
                                <span class="spec-label">üíµ Tipo de D√≥lar:</span>
                                <span id="modalDollarType" class="spec-value"></span>
                            </div>
                        </div>
                    </div>

                    <div class="additional-info">
                        <h3>INFORMACI√ìN ADICIONAL</h3>
                        <div class="info-item">
                            <strong>üéÅ Accesorios:</strong>
                            <p id="modalAccessories"></p>
                        </div>
                        <div class="info-item">
                            <strong>‚úÖ Garant√≠a:</strong>
                            <p id="modalWarranty"></p>
                        </div>
                        <div class="info-item">
                            <strong>üí≥ Financiaci√≥n:</strong>
                            <p id="modalFinancing"></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Contenedor Principal -->
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="logo-section">
                <img src="kor-logo.png" alt="KOR Generadores en L√≠nea" class="logo-img">
                <h1>GENERADORES EN L√çNEA</h1>
                <p class="subtitle">KOR - Soluciones Energ√©ticas Profesionales</p>
                <p class="version-badge">VERSI√ìN DETALLADA - Click en productos para ver informaci√≥n completa</p>

                <!-- Toggle Modo Uso Interno -->
                <div class="internal-mode-toggle">
                    <label class="toggle-switch">
                        <input type="checkbox" id="internalModeSwitch">
                        <span class="toggle-slider"></span>
                    </label>
                    <span class="toggle-label">üîí Modo Uso Interno (Costos)</span>
                </div>
            </div>
            <div class="header-info">
                <h2>LISTA DE PRECIOS MAYORISTA</h2>
                <p class="date">NOVIEMBRE 2025 - Lista #1083</p>
                <p class="contact">üìû WhatsApp: +54 11 3956-3099 | ‚úâÔ∏è info@generadores.ar</p>
                <p class="web">üåê www.generadores.ar</p>
                <p class="services">Venta, Alquiler y Servicio T√©cnico Multimarca - Todas las Potencias</p>
            </div>
        </header>

        <!-- Navegaci√≥n de Pesta√±as -->
        <nav class="tabs-nav">
            <!-- Las pesta√±as se generar√°n din√°micamente desde Directus -->
            <div style="padding: 20px; color: #999; text-align: center;">üì¶ Cargando categor√≠as...</div>
        </nav>

        <!-- Contenido de Pesta√±as -->
        <main class="tabs-content">
            <!-- El contenido se generar√° din√°micamente desde Directus -->
            <div style="padding: 60px 20px; text-align: center;">
                <h2 style="color: #999;">‚è≥ Cargando productos desde Directus...</h2>
                <p style="color: #666; margin-top: 20px;">
                    Si ves este mensaje por m√°s de 5 segundos, verific√° la consola (F12)
                </p>
            </div>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Contacto</h3>
                    <p>üìû Tel/WhatsApp: +54 11 3956-3099</p>
                    <p>‚úâÔ∏è Email: info@generadores.ar</p>
                    <p>üåê Web: www.generadores.ar</p>
                </div>
                <div class="footer-section">
                    <h3>Redes Sociales</h3>
                    <p>üìò Facebook: facebook.com/generadores.ar</p>
                    <p>üì∏ Instagram: @generadores.ar</p>
                    <p>üì∫ YouTube: Canal KOR Generadores</p>
                </div>
                <div class="footer-section">
                    <h3>Servicios</h3>
                    <p>‚úÖ Venta de Generadores</p>
                    <p>‚úÖ Alquiler (D√≠a/Semana/Mes)</p>
                    <p>‚úÖ Servicio T√©cnico Multimarca</p>
                    <p>‚úÖ Repuestos Originales</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 KOR Generadores en L√≠nea - www.generadores.ar - Lista #1083 - Noviembre 2025</p>
            </div>
        </footer>

    </div>

    <!-- Lightbox para vista ampliada de im√°genes -->
    <div id="imageLightbox" class="lightbox">
        <span class="lightbox-close">&times;</span>
        <button class="lightbox-btn lightbox-prev" id="lightboxPrev">&lsaquo;</button>
        <img id="lightboxImg" src="" alt="Vista ampliada" class="lightbox-img">
        <button class="lightbox-btn lightbox-next" id="lightboxNext">&rsaquo;</button>
        <div class="lightbox-counter" id="lightboxCounter"></div>
    </div>

    <!-- Modal de Edici√≥n de Im√°genes -->
    <div id="imageEditorModal" class="image-editor-modal">
        <div class="image-editor-content">
            <div class="image-editor-header">
                <h2>‚úèÔ∏è Editor de Im√°genes - <span id="editorProductName"></span></h2>
                <button class="image-editor-close" id="btnCloseEditor">&times;</button>
            </div>
            <div class="image-editor-body">
                <div class="editor-toolbar">
                    <label class="btn-editor-action btn-add-files">
                        üìÅ Agregar Im√°genes
                        <input type="file" id="inputEditorFiles" accept="image/*,video/*,.webp,.jpg,.jpeg,.png,.mp4,.webm" multiple style="display:none">
                    </label>
                    <button class="btn-editor-action btn-delete-selected" id="btnDeleteSelected">
                        üóëÔ∏è Eliminar Seleccionadas
                    </button>
                    <button class="btn-editor-action btn-open-folder" id="btnOpenFolder">
                        üìÇ Abrir Carpeta del Producto
                    </button>
                </div>
                <div class="editor-info">
                    <p><strong>Carpeta:</strong> <span id="editorFolderPath"></span></p>
                    <p><strong>Total de archivos:</strong> <span id="editorFileCount">0</span></p>
                </div>
                <!-- Log discreto de operaciones -->
                <div id="editorLog" class="editor-log"></div>

                <!-- Secci√≥n de Archivos Adjuntos -->
                <div class="editor-attachments-section">
                    <h3>üìé Archivos Adjuntos</h3>
                    <p class="attachments-info">PDFs, documentos HTML, JSON, TXT y otros archivos del producto</p>
                    <div class="attachments-actions">
                        <button class="btn-attachments-folder" id="btnOpenAttachmentsFolder">
                            üìÇ Abrir Carpeta de Archivos Adjuntos
                        </button>
                        <div class="attachments-path">
                            <strong>Carpeta:</strong> <span id="attachmentsFolderPath"></span>
                        </div>
                    </div>
                    <div class="attachments-list" id="attachmentsList">
                        <!-- Los archivos adjuntos se listar√°n aqu√≠ -->
                    </div>
                </div>

                <h3 class="images-section-title">üñºÔ∏è Im√°genes del Producto</h3>
                <div class="editor-images-grid" id="editorImagesGrid">
                    <!-- Las im√°genes se generar√°n din√°micamente -->
                </div>
            </div>
            <div class="image-editor-footer">
                <p>üí° <strong>Tip:</strong> Arrastra las im√°genes para cambiar el orden. Selecciona con checkbox para eliminar.</p>
                <button class="btn-editor-save" id="btnSaveChanges">
                    üíæ Guardar Orden Actual
                </button>
            </div>
        </div>
    </div>

    <!-- Modal de Editor de Archivos -->
    <div id="fileEditorModal" class="file-editor-modal">
        <div class="file-editor-content">
            <div class="file-editor-header">
                <h2>üìé Editor de Archivos - <span id="fileEditorProductName"></span></h2>
                <button class="file-editor-close" id="btnCloseFileEditor">&times;</button>
            </div>
            <div class="file-editor-body">
                <div class="editor-toolbar">
                    <label class="btn-editor-action btn-add-files">
                        üìÅ Agregar Archivos
                        <input type="file" id="inputFileEditorFiles" accept=".pdf,.html,.json,.txt,.doc,.docx,.xls,.xlsx" multiple style="display:none">
                    </label>
                    <button class="btn-editor-action btn-delete-selected" id="btnDeleteSelectedFiles">
                        üóëÔ∏è Eliminar Seleccionados
                    </button>
                    <button class="btn-editor-action btn-open-folder" id="btnOpenFilesFolder">
                        üìÇ Abrir Carpeta
                    </button>
                </div>
                <div class="editor-info">
                    <p><strong>Carpeta:</strong> <span id="fileEditorFolderPath"></span></p>
                    <p><strong>Total de archivos:</strong> <span id="fileEditorFileCount">0</span></p>
                </div>
                <!-- Log discreto de operaciones -->
                <div id="fileEditorLog" class="editor-log"></div>
                <div class="file-editor-grid" id="fileEditorGrid">
                    <!-- Los archivos se generar√°n din√°micamente -->
                </div>
            </div>
            <div class="file-editor-footer">
                <p>üí° <strong>Tip:</strong> PDFs, HTML, JSON, TXT y documentos del producto. Elimina con checkbox.</p>
            </div>
        </div>
    </div>

    </div><!-- Fin mainContent -->

    <!-- Scripts -->
    <!-- Auto-login para desarrollo -->
    <script src="auto-login.js?v=2.0"></script>
    <script src="script-v2-clean.js?v=2.2"></script>
    <!-- script-directus-patch.js removido - V2 usa API de Directus directamente -->
</body>
</html>
